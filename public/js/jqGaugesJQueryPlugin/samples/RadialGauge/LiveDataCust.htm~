<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>
    YPR
</title>
    <link rel="stylesheet" type="text/css" href="../../css/jquery.jqGauges.css" />
    <script src="../../js/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="../../js/jquery.jqGauges.min.js" type="text/javascript"></script>
    <!--[if IE]><script lang="javascript" type="text/javascript" src="../../js/excanvas.js"></script><![endif]-->
    
    <script lang="javascript" type="text/javascript">

        //var values = { v1: 5 };
		var pitch_param = gup( 'pitch' );
		var yaw_param = gup( 'yaw' );
		var roll_param = gup( 'roll' );
		
        $(document).ready(function () {

            var gradient1 = {
                type: 'linearGradient',
                x0: 0,
                y0: 0.5,
                x1: 1,
                y1: 0.5,
                colorStops: [{ offset: 0, color: '#C5F80B' },
                             { offset: 1, color: '#6B8901'}]
            };

            var gradient2 = {
                type: 'linearGradient',
                x0: 0.5,
                y0: 0,
                x1: 0.5,
                y1: 1,
                colorStops: [{ offset: 0, color: '#FF3366' },
                             { offset: 1, color: '#B2183E'}]
            };

            var anchorGradient = {
                type: 'radialGradient',
                x0: 0.35,
                y0: 0.35,
                r0: 0.0,
                x1: 0.35,
                y1: 0.35,
                r1: 1,
                colorStops: [{ offset: 0, color: '#4F6169' },
                             { offset: 1, color: '#252E32'}]
            };

            $('#jqRadialGauge').jqRadialGauge({
                background: '#F7F7F7',
                border: {
                    lineWidth: 6,
                    strokeStyle: '#76786A',
                    padding: 16
                },
                shadows: {
                    enabled: true
                },
                anchor: {
                    visible: true,
                    fillStyle: anchorGradient,
                    radius: 0.05
                },
                tooltips: {
                    disabled: false,
                    highlighting: true
                },
                annotations: [
                                
                                {
                                    text: 'PITCH',
                                    font: '12px sans-serif',
                                    horizontalOffset: 0.5,
                                    verticalOffset: 0.25,
                                    //fillStyle: '#6B8901'
                                },
                                {
                                    text: 'YAW',
                                    font: '10px sans-serif',
                                    horizontalOffset: 0.5,
                                    verticalOffset: 0.71
                                },
                                {
                                    text: 'ROLL',
                                    font: '10px sans-serif',
                                    horizontalOffset: 0.33,
                                    verticalOffset: 0.3
                                }
                             ],
                scales: [
                         {
                             minimum: -30,
                             maximum: 30,
                             startAngle: 400,
                             endAngle: 140,
                             majorTickMarks: {
                                 length: 12,
                                 lineWidth: 2,
                                 interval: 5,
                                 offset: 0.84
                             },
                             minorTickMarks: {
                                 visible: true,
                                 length: 8,
                                 lineWidth: 2,
                                 interval: 1,
                                 offset: 0.84
                             },
  									 labels: {
                                 orientation: 'horizontal',
                                 interval: 5,
                                 offset: 1.00
                             },
                             needles: [
                                        {
                                            value: pitch_param,
                                            type: 'pointer',
                                            outerOffset: 0.9,
                                            mediumOffset: 0.1,
                                            innerOffset: -0.0,
                                            width: 8
                                        }
                                        
                                      ],
                            
                         },
                         {
                              name: 'yaw',
                              radius: 80,
                              mininum: 0,
                              maximum: 360,
                        		startAngle: 270,
                             	endAngle: 630,
                              isReversed: true,
                              interval: 90,
                              vCenterOffset: 0.80,
                              
                              zIndex: 2,
                              anchor: {
                                  visible: true,
                                  radius: 0.05,
                                  fillStyle: anchorGradient
                              },
                              labels: {
                                  offset: 0.45,
                                  showFirstLabel: true,
                                  showLastLabel: false,
                                  font: '10px sans-serif'
                              },
                              majorTickMarks: {
                                  lineWidth: 2,
                                  offset: 0.6,
                                  length: 6,
                                  interval: 36,
                                  intervalOffset : 0
                              },
                              minorTickMarks: {
                                  visible: true,
                                  interval: 5,
                                  lineWidth: 1,
                                  offset: 0.66,
                                  length: 3
                              },
                              needles: [
                                        {
                                            value: yaw_param,
                                            type: 'pointer',
                                            outerOffset: 0.6,
                                            mediumOffset: 0.5,
                                            innerOffset: 0.0,
                                            width: 3,
                                            fillStyle: '#252E32'
                                        },
                                      ]
                          },
                          
                            {
                             name: 'roll',
                             minimum: -15,
                             maximum: 15,
                             startAngle: 240,
                             endAngle: 300,
                             vCenterOffset: 0.50,
                             hCenterOffset: 0.30,
                             radius: 60,
                             anchor: {
                                  visible: true,
                                  radius: 0.05,
                                  fillStyle: anchorGradient
                              },
                              majorTickMarks: {
                                 length: 8,
                                 lineWidth: 1,
                                 interval: 5,
                                 offset: 0.84
                             },
                             minorTickMarks: {
                                 visible: false,
                                 length: 8,
                                 lineWidth: 2,
                                 interval: 1,
                                 offset: 0.84
                             },
  									 labels: {
                                 orientation: 'horizontal',
                                 interval: 10,
                                 offset: 1.10,
 											showFirstLabel: true
                             },
                             needles: [
                                        {
                                            value: pitch_param,
                                             type: 'pointer',
                                            outerOffset: 0.8,
                                            mediumOffset: 0.5,
                                            innerOffset: 0.0,
                                            width: 3,
                                            fillStyle: '#252E32'
                                        }
                                        
                                      ],
                             
                         }
                       
                        ]
            });

           // updateGauge();
        });

        function gup( name )
			{
			  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
			  var regexS = "[\\?&]"+name+"=([^&#]*)";
			  var regex = new RegExp( regexS );
			  var results = regex.exec( window.location.href );
			  if( results == null )
			    return null;
			  else
			    return results[1];
			}


    </script>

</head>
<body>
    <div>
        <div id="jqRadialGauge" style="width: 350px; height: 350px;">
        </div> 
    </div>
</body>
</html>
